package module_6.sprint_planning.main.tickets;

public class Bug extends Ticket {

    // –ü–æ–≤'—è–∑–∞–Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∞ —ñ—Å—Ç–æ—Ä—ñ—è (UserStory), –¥–æ —è–∫–æ—ó –≤—ñ–¥–Ω–æ—Å–∏—Ç—å—Å—è —Ü–µ–π –±–∞–≥
    private final UserStory userStory;

    // –°—Ç–∞—Ç–∏—á–Ω–∏–π –º–µ—Ç–æ–¥ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ Bug ||
    //üîπ –¶–µ —Ñ–∞–±—Ä–∏—á–Ω–∏–π –º–µ—Ç–æ–¥, —è–∫–∏–π —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç Bug.
    //üîπ –ü–µ—Ä–µ–≤—ñ—Ä—è—î –¥–≤—ñ —É–º–æ–≤–∏:
    //‚úÖ userStory != null ‚Äì –±–∞–≥ –Ω–µ –º–æ–∂–µ —ñ—Å–Ω—É–≤–∞—Ç–∏ –±–µ–∑ —ñ—Å—Ç–æ—Ä—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
    //‚úÖ userStory.isCompleted() ‚Äì –±–∞–≥ –º–æ–∂–µ –±—É—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ—ó —ñ—Å—Ç–æ—Ä—ñ—ó.
    //üîπ –Ø–∫—â–æ —É–º–æ–≤–∏ –Ω–µ –≤–∏–∫–æ–Ω–∞–Ω—ñ, –º–µ—Ç–æ–¥ –ø–æ–≤–µ—Ä—Ç–∞—î null, —Ç–æ–±—Ç–æ –±–∞–≥ –Ω–µ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è.
    //üîπ –Ø–∫—â–æ —É–º–æ–≤–∏ –≤–∏–∫–æ–Ω–∞–Ω—ñ, —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–æ–≤–∏–π Bug —á–µ—Ä–µ–∑ –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    public static Bug createBug(int id, String name, int estimate, UserStory userStory) {
        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —ñ—Å—Ç–æ—Ä—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–µ —î null —ñ —á–∏ –≤–æ–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
        if (userStory == null || !userStory.isCompleted()) {
            return null;
        }
        // –Ø–∫—â–æ –≤—Å–µ –¥–æ–±—Ä–µ, —Å—Ç–≤–æ—Ä—é—î–º–æ –Ω–æ–≤–∏–π –±–∞–≥
        return new Bug(id, name, estimate, userStory);


    }

    // –ü—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –¥–æ—Å—Ç—É–ø–Ω–∏–π —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ createBug
    //üîπ –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∏–≤–∞—Ç–Ω–∏–π (private), —â–æ–± –∑–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è Bug –Ω–∞–ø—Ä—è–º—É.
    //üîπ –ô–æ–≥–æ –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ createBug(), —â–æ–± –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏.
    //üîπ –í–∏–∫–ª–∏–∫–∞—î super(...), —Ç–æ–±—Ç–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ–≥–æ –∫–ª–∞—Å—É Ticket, —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—é—á–∏:
    //
    //id ‚Äì —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –±–∞–≥–∞
    //name ‚Äì –Ω–∞–∑–≤–∞ –±–∞–≥–∞
    //estimate ‚Äì –æ—Ü—ñ–Ω–∫–∞ —á–∞—Å—É –Ω–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è
    //üîπ –ó–±–µ—Ä—ñ–≥–∞—î –ø–æ–≤'—è–∑–∞–Ω—É UserStory.
    private Bug(int id, String name, int estimate, UserStory userStory) {
        super(id, name, estimate);
        this.userStory = userStory;

    }

    // –ü–µ—Ä–µ–≤–∏–∑–Ω–∞—á–µ–Ω–∏–π –º–µ—Ç–æ–¥ toString(), —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î —Ç–µ–∫—Å—Ç–æ–≤–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –±–∞–≥–∞
    @Override
    public String toString() {
        return "[Bug " + getId() + "] " + userStory.getName() + ": " + getName();
    }
}
